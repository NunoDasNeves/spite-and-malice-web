<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Spite and Malice</title>
	</head>
	<body>
        <div id="screen-main" class="screen">
            <div class="menu">
                <div>
                    <h1>Spite and Malice</h1>
                </div>
                <div>
                    Enter a display name:
                </div>
                <input type=text id='main-display-name' placeholder='Your name here'>
                <div>
                    <input type=button id='button-create' class='main-button' value="Create a game" disabled>
                </div>
                <div>
                    <input type=text id='main-peer-id' placeholder="Paste connection ID here" size=50 disabled>
                    <input type=button id='button-join' class='main-button' value="Join a game" disabled>
                </div>
                <div>
                    <input type=button id='button-test' class='main-button' value="Test game">
                </div>
            </div>
        </div>
        <div id="screen-loading" class="screen">
            <canvas id="canvas-loading"></canvas>
        </div>
        <div id="screen-lobby" class="screen">
            <div class="menu">
                <div>
                    <h1>Spite and Malice</h1>
                </div>
                <div>
                    <h2>Game Lobby</h2>
                </div>
                <div id='lobby-id-div' hidden>
                    Connection code for this game:<br>
                    <input type=text  id='lobby-peer-id' readonly>
                </div>
                <div>
                    Players:
                    <div id='lobby-player-list' class='lobby-player-list'></div>
                </div>
                <div>
                    <input type=button id='button-open-game' class='main-button' value="Open to other players">
                    <input type=button id='button-start-game' class='main-button' value="Start Game">
                    <!-- input type=button id='button-add-local-player' class='main-button' value="Add local player"-->
                </div>
                <div>
                    <input type=button id='button-disconnect' class='main-button' value="Disconnect">
                </div>
            </div>
        </div>
        <div id="screen-game" class="screen">
            <div id="game-ui">
                <input type=button id='button-leave-game' class='ui-button floating-ui' value="Leave game">
                <input type=button id='button-back-to-lobby' class='ui-button floating-ui' value="Back to lobby" hidden>
                <div id='winner-banner' class='floating-ui' hidden></div>
            </div>
            <div id="game-scene-container">
                <canvas id="canvas-game"></canvas>
            </div>
        </div>
		<script src="js/three.js"></script>
		<script src="js/peerjs.min.js"></script>
        <script src="js/input.js"></script>
        <script src="js/assets.js"></script>
        <script src="js/cards.js"></script>
        <script src="js/game.js"></script>
        <script src="js/scene.js"></script>
		<script src="js/main.js"></script>
        <style>
            [hidden] {
                display: none !important;
            }
			html,body {
                margin: 0;
                padding: 0;
                height: 100%;
                background-color: #0f0f0f;
                color: #fefefe;
                font-family: Helvetica, Arial, sans-serif;
            }
            h1,h2,h3,h4,h5,p { margin:0; padding: 0; }
            .screen {
                height: 100%;
            }
            #canvas-loading, #canvas-game {
                /* wtf browser? */
                width: 100% !important;
                height: 100% !important;
                display: block !important;
            }
            .menu {
                width: 600px;
                margin: auto;
                display: flex;
                flex-direction: column;
            }
            .menu > div, .menu > input {
                margin: 20px;
            }
            .main-button {
                display: block;
                height: 30px;
                width: 120px;
            }
            #button-create {
            }
            #button-join {
            }
            #winner-banner {
                width: max-content;
                left: 0;
                right: 0;
                margin-left:auto;
                margin-right:auto;
                font-size: 2.5em;
                /* stroke */
                text-shadow: 2px 2px 0px black, -2px -2px 0px black, -2px 2px 0px black, 2px -2px 0px black,0px -2px 0px black, 0px 2px 0px black, 2px 0px 0px black, -2px 0px 0px black, 0 0 8px blue;
            }
            #game-ui {
            }
            .lobby-player-list {
                display: flex;
                flex-direction: column;
            }
            .ui-button {
                display: block;
                color: white;
                background-color: rgba(0,0,0,0);
                border: 1px solid white;
                border-radius: 9px;
                padding: 10px;
                cursor: pointer;
            }
            .floating-ui {
                position: absolute;
                user-select: none;
            }
            .ui-text {
                color:#fefefe;
            }
		</style>
	</body>
</html>